﻿@model procesos_app.Models.MotherOfModels
@{
    ViewBag.Title = "Inicio";
    Layout = "~/Views/Shared/_LayoutEstudiante.cshtml";
}

@*<h2>Bienvenido estudiante --> @User.Identity.Name</h2>*@
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.bundle.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.6.0/Chart.min.js"></script>

<style>
    .section-title {
        padding-left: 0px;
        padding-top: 20px;
        font-weight: 100;
        margin: 0;
    }

    .Tableback {
        background: #c10d0d;
        color: white;
    }

    .light-bottom-border {
        border-bottom: 1px solid #DEDEDE;
    }

    .section {
        padding: 5px 0;
        margin: 20px 10px;
        background-color: white;
    }

    .section_info {
        margin: 20px;
    }

    .HBG {
        padding: 7px 10px;
        background-color: #404040;
        color: #FFF;
    }

    .block-dashboard {
        width: 160px;
        height: 187px;
        display: inline-block;
        padding: 10px;
    }
</style>
<div>
    <h3 class="section-title text-center"> TABLERO DE INDICADORES </h3>
    <hr />
</div>
<div class="col-md-7">
    <div>
        <h4 class="HBG">Datos Generales</h4>
    </div>
    <div class="row section_info">
        <div class="col-xs-6">
            <div>
                <b> @Html.Label("ID:", htmlAttributes: new { @class = "control-label text-center" })</b><br />
                @Html.TextBoxFor(m => m.DataInicioUser.Id2, new { @class = "form-control ", @readonly = true })<br />
            </div>
            <div>
                <b> @Html.Label("Programa", htmlAttributes: new { @class = "control-label text-center" }) </b><br />
                @Html.TextBoxFor(m => m.DataInicioCarrer.Name, new { @class = "form-control", @readonly = true })<br />
            </div>
            <div>
                <b>@Html.Label("Condición Académica", htmlAttributes: new { @class = "control-label text-center" })</b><br />
                @Html.TextBoxFor(m => m.DataInicioUserCarrer.Status, new { @class = "form-control", @readonly = true })<br />
            </div>
            <div>
                <b> @Html.Label("Trimestre Acutual", htmlAttributes: new { @class = "control-label text-center" })</b><br />
                @Html.TextBoxFor(m => m.Trimesters.Name, new { @class = "form-control", @readonly = true })<br />
            </div>

        </div>

        <div class="col-xs-6">
            <div>
                <b> @Html.Label("Indice Trimestral", htmlAttributes: new { @class = "control-label text-center" })</b><br />
                @Html.TextBoxFor(m => m.DataInicioUserCarrer.QuarterlyIndex, new { @class = "form-control", @readonly = true })<br />
            </div>
            <div>
                <b> @Html.Label("Indice General", htmlAttributes: new { @class = "control-label text-center" })</b><br />
                @Html.TextBoxFor(m => m.DataInicioUserCarrer.GeneralIndex, new { @class = "form-control", @readonly = true, @id = "IndiceGeneral" })<br />
            </div>
            <div>
                <b> @Html.Label("Creditos Aprovados", htmlAttributes: new { @class = "control-label text-center" })</b><br />
                @Html.TextBoxFor(m => m.DataInicioUserCarrer.QtyApprovedCredits, new { @class = "form-control", @readonly = true, @id = "CreditosAprovados" })<br />
            </div>
            <div>
                <b>  @Html.Label("Trimestres Cursados", htmlAttributes: new { @class = "control-label text-center" })</b><br />
                @Html.TextBoxFor(m => m.DataInicioUserCarrer.QtyApprovedQuarter, new { @class = "form-control", @readonly = true, @id = "TrimestresCursados" })<br />
            </div>
        </div>

    </div>

    <div>
        <h4 class="HBG">Alertas</h4>
    </div>
    <div class="row section_info">
        <p class="alert-message"> Usted no tiene alertas </p>
    </div>
</div>



<div class="col-md-5">
    <div class="col-xs-6">
        @Html.TextBoxFor(m => m.DataInicioCarrer.NoCredito, new { @class = "form-control", @readonly = true, @id = "TotalCreditos" })<br />
        @Html.TextBoxFor(m => m.DataInicioCarrer.NoTrimester, new { @class = "form-control", @readonly = true, @id = "TotalTrimestres" })<br />
        <canvas id="Materias" width="100" height="100" style="background:#72AF47"></canvas><br />
        <canvas id="Trimestres" width="100" height="100" style="background:#E02F32"></canvas>
    </div>
    <div class="col-xs-6">
        @Html.TextBoxFor(m => m.DataInicioCarrer.NoSubjetcs, new { @class = "form-control", @readonly = true, @id = "TotalMaterias" })<br />
        @Html.TextBoxFor(m => m.DataInicioUserCarrer.QtyApprovedSubjects, new { @class = "form-control", @readonly = true, @id = "MateriasAprovadas" })<br />
        <canvas id="Indice" width="100" height="100" style="background:#F5F5F5"></canvas><br />
        <canvas id="Creditos" width="100" height="100" style="background: #404040"></canvas>
    </div>
    <script>
        var Materias = document.getElementById("Materias").getContext('2d');
        var IndiceGeneral = $("#IndiceGeneral").val();

        var CreditosAprovados = $("#CreditosAprovados").val();
        var TotalCreditos = $("#TotalCreditos").val();
        $("#TotalCreditos").hide();

        var TrimestresCursados = $("#TrimestresCursados").val();
        var TotalTrimestres = $("#TotalTrimestres").val();
        $("#TotalTrimestres").hide();

        var MateriasAprovadas = $("#MateriasAprovadas").val();
        var TotalMaterias = $("#TotalMaterias").val();
        $("#TotalMaterias").hide();
        $("#MateriasAprovadas").hide();


        var myChart = new Chart(Materias, {
            type: 'doughnut',
            data: {
                datasets: [{
                    backgroundColor: [
                        "#FFFFFF",
                        "#9dca79"
                    ],
                    borderColor: [
                        "#FFFFFF",
                        "#9dca79"
                    ],
                    data: [MateriasAprovadas, (TotalMaterias - MateriasAprovadas)]

                }]
            },
            options: {
                layout: {
                    padding: {
                        bottom: 10
                    }
                },
                title: {
                    display: true,
                    position: 'bottom',
                    fontColor: "#FFFFFF",
                    text: MateriasAprovadas + ' Materias de ' + TotalMaterias
                }
            }
        });


        var Trimestres = document.getElementById("Trimestres").getContext('2d');
        var myChart = new Chart(Trimestres, {
            type: 'doughnut',
            data: {
                datasets: [{
                    backgroundColor: [
                        "#f27f78",
                        "#FFFFFF"
                    ],
                    borderColor: [
                        "#f27f78",
                        "#FFFFFF"
                    ],
                    data: [TrimestresCursados, (TotalTrimestres - TrimestresCursados)]

                }]
            },
            options: {
                layout: {
                    padding: {
                        bottom: 10
                    }
                },
                title: {
                    display: true,
                    position: 'bottom',
                    fontColor: "#FFFFFF",
                    text: TrimestresCursados + ' Trimestres de ' + TotalTrimestres

                }
            }
        });


        var Indice = document.getElementById("Indice").getContext('2d');
        var myChart = new Chart(Indice, {
            type: 'doughnut',
            data: {
                datasets: [{
                    backgroundColor: [
                        "#444",
                        "#FFFFFF"
                    ],
                    borderColor: [
                        "#444",
                        "#FFFFFF"
                    ],
                    data: [IndiceGeneral, (4 - IndiceGeneral)]

                }]
            },
            options: {
                layout: {
                    padding: {
                        bottom: 10
                    }
                },
                title: {
                    display: true,
                    position: 'bottom',
                    fontColor: "#444",
                    text: IndiceGeneral + ' Indice de 4'

                }
            }
        });

        var Creditos = document.getElementById("Creditos").getContext('2d');
        var myChart = new Chart(Creditos, {
            type: 'doughnut',
            data: {
                datasets: [{
                    backgroundColor: [
                        "#FFFFFF",
                        "#666364"
                    ],
                    borderColor: [
                        "#FFFFFF",
                        "#666364"
                    ],
                    data: [CreditosAprovados, (TotalCreditos - CreditosAprovados)]

                }]
            },
            options: {
                layout: {
                    padding: {
                        bottom: 10
                    }
                },
                title: {
                    display: true,
                    position: 'bottom',
                    fontColor: "#FFFFFF",
                    text: CreditosAprovados + ' Creditos de ' + TotalCreditos

                }
            }
        });
    </script>
</div>

<div class="col-md-12">
    <div>
        <h4 class="HBG">Asignaturas Seleccionadas</h4>
    </div>
    <div class="text-center">
        <div style="padding-left:20px; padding-right:20px;">
            <table id="SeleccionEst" class="table table-striped table-bordered" cellspacing="0" width="100%">
                <thead class="Tableback">
                    <tr>
                        <th>Codigo</th>
                        <th>Seccion</th>
                        <th>Materia</th>
                        <th>Profesor</th>
                        <th>Creditos</th>
                        <th>Horario</th>
                        <th>Aula</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model.estSection)
                    {
                        <tr>
                            <td>@item.Codigo</td>
                            <td>@item.Seccion</td>
                            <td>@item.Materia</td>
                            <td>@item.Profesor</td>
                            <td>@item.Creditos</td>
                            <td>@item.Horario</td>
                            <td>@item.Aula</td>

                        </tr>
                    }
                </tbody>
            </table>
        </div>

    </div>
</div>
